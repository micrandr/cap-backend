import{o as f,v as k,r as s,j as e,q as y}from"./index-21d5007c.js";import{B as j}from"./Breadcrumb-5c4786a0.js";import{C as m}from"./CourseServices-8de5ad3e.js";import{S as v}from"./react-select.esm-9ccc63ef.js";import"./objectSpread2-4449d670.js";import"./floating-ui.dom-492b5fd7.js";const u=[{value:"none",label:"Selectionner"},{value:"1",label:"Activé"},{value:"0",label:"Desactivé"}],N=()=>{const b=f(),t=k().id,[o,d]=s.useState(""),[i,l]=s.useState(""),[c,n]=s.useState(""),x=r=>{console.log(r.value),l(r.value)},g=r=>{m.getCategory(r).then(a=>{d(a.data.categoryName),n(a.data.categoryDescription),l(a.data.categoryStatus)})};s.useEffect(()=>{t&&g(t)},[t]);const p=async r=>{r.preventDefault();try{const a=JSON.stringify({categoryName:o,categoryDescription:c,categoryStatus:i});m.updateCategory(t,a).then(h=>{y.success("Mise à jour bien effectuée"),b("/courses/categories")}).then(h=>{})}catch(a){console.error(a)}};return e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",onSubmit:p,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex p-2"}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"flex w-100 mr-2 mb-2 justify-center rounded bg-primary p-3 font-medium text-gray",children:"Enregistrer"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-2",children:[e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Informations générales"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5",children:[e.jsxs("label",{className:"mb-2.5 block text-black dark:text-white",children:["Nom de la catégorie de formation ",e.jsx("span",{className:"text-meta-1",children:"*"})]}),e.jsx("input",{type:"text",id:"category-name",onChange:r=>d(r.target.value),value:o,placeholder:"Nom de la catégorie",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("h3",{className:"mb-2.5 block text-black dark:text-white",children:"Description"}),e.jsx("textarea",{onChange:r=>n(r.target.value),value:c,rows:3,placeholder:"Descriptif sur la catégorie de formation",className:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("h3",{className:"mb-2.5 block text-black dark:text-white",children:"Status"}),e.jsx(v,{options:u,value:u.filter(r=>r.value===i),onChange:x})]})]})]})}),e.jsx("div",{className:"flex flex-col gap-9",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Détails sur les catégories"})}),e.jsx("div",{className:"p-4",children:e.jsx("p",{children:"Elles servent à regrouper les formations par rubrique"})})]})})]})]})})},F=()=>e.jsxs(e.Fragment,{children:[e.jsx(j,{pageName:"Editer une catégorie de formation"}),e.jsx(N,{})]});export{F as default};
