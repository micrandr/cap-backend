import{o as re,r as s,j as e,S as ne,q as le}from"./index-21d5007c.js";import{B as ie}from"./Breadcrumb-5c4786a0.js";import{S as l}from"./react-select.esm-9ccc63ef.js";import{S as de}from"./SessionServices-c3f37646.js";import{S as ue,a as ce,C as me}from"./SessionParts-aa8e36c0.js";import"./objectSpread2-4449d670.js";import"./floating-ui.dom-492b5fd7.js";import"./Fab-4a3d9ced.js";const Se=()=>{re();const[x,xe]=s.useState([]),[be,b]=s.useState(0),[u,h]=s.useState(""),[k,he]=s.useState(""),[M,ke]=s.useState(""),[p,Me]=s.useState(""),[c,f]=s.useState(""),[N,pe]=s.useState(""),[m,v]=s.useState(""),[j,fe]=s.useState(""),[g,Ne]=s.useState(""),[w,ve]=s.useState(""),[y,je]=s.useState(""),[C,ge]=s.useState(""),[D,we]=s.useState(""),[P,ye]=s.useState(""),[E,Ce]=s.useState(""),[T,De]=s.useState(""),[I,Pe]=s.useState(""),[H,Ee]=s.useState(""),[B,Te]=s.useState(""),[O,Ie]=s.useState(""),[z,He]=s.useState(""),[F,Be]=s.useState(""),[A,Oe]=s.useState(""),[L,ze]=s.useState(""),[R,Fe]=s.useState(""),[U,Ae]=s.useState(""),[q,Le]=s.useState(""),[G,Re]=s.useState(""),[J,Ue]=s.useState(""),[V,qe]=s.useState(""),[Z,Ge]=s.useState(""),[$,Je]=s.useState(""),[K,Q]=s.useState(""),[W,X]=s.useState(""),[Y,_]=s.useState(""),ee=[{value:0,label:null}],i=[{value:"1",label:"Nouveau"},{value:"2",label:"En cours"},{value:"3",label:"En attente"},{value:"4",label:"Terminée"},{value:"5",label:"Annulée"}];s.useState(ee);const S=x.map(t=>{const o={value:null,label:null};return o.value=t.id,o.label=t.userFirstName,o});s.useEffect(()=>{});const se=async t=>{t.preventDefault();const o=JSON.stringify({sessionName:u,sessionLocation:k,sessionManager:M,sessionManager2:p,sessionTimezone:j,sessionType:N,sessionIntra:c,sessionModuleName:g,sessionModulePrice:w,sessionModulePriceClient:y,sessionModuleStartDate:C,sessionModuleEndDate:D,sessionModuleHour:P,sessionModuleName2:E,sessionModulePrice2:T,sessionModulePriceClient2:I,sessionModuleStartDate2:H,sessionModuleEndDate2:B,sessionModuleHour2:O,sessionModuleName3:z,sessionModulePrice3:F,sessionModulePriceClient3:A,sessionModuleStartDate3:L,sessionModuleEndDate3:R,sessionModuleHour3:U,sessionModuleName4:q,sessionModulePrice4:G,sessionModulePriceClient4:J,sessionModuleStartDate4:V,sessionModuleEndDate4:Z,sessionModuleHour4:$,sessionStatus:m});let n=document.querySelectorAll(".bloc-module");b(n.length),de.create(o).then(a=>{if(a.status==201){let d=a.data.id;for(let r=1;r<=n.length;r++)ae(d,r);le.success("Session bien créée")}}).then(a=>{console.log(a)})};s.useState(Intl.DateTimeFormat().resolvedOptions().timeZone);const te=t=>{v(t.value)},oe=t=>{let o="";t.target.checked?o="0":o="1",f(o)},ae=(t,o)=>{let n=document.getElementById("session-module-name"+o),a=document.getElementById("session-module-price"+o),d=document.getElementById("session-type"+o);Q(n.value),X(a.value),_(d.value);const r=JSON.stringify({moduleTitle:K,courseModulePrice:W,courseModuleType:Y,sessionId:t});me.create(r).then(Ve=>{})};return e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",onSubmit:se,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex p-2",children:e.jsx("input",{type:"text",name:"session-name",onChange:t=>h(t.target.value),value:u,placeholder:"Nom de session de formation",className:"w-100 rounded border-[1.5px] border-stroke bg-transparent py-2 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})}),e.jsx(l,{options:i,placeholder:"Status",className:"p-2",value:i.filter(t=>t.value===m),onChange:te}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"flex w-100 mr-2 mb-2 justify-center rounded bg-primary p-3 font-medium text-gray",children:"Enregistrer"})})]}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Informations de session"})}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex w-1/2 hidden",children:[e.jsxs("div",{className:"p-6.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Gestionnaire 1"}),e.jsx("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:e.jsx(l,{options:S})})]}),e.jsxs("div",{className:"p-6.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Gestionnaire 2"}),e.jsx("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:e.jsx(l,{options:S})})]})]}),e.jsx("div",{className:"flex w-1/2 p-6.5",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"INTRA OU INTER-Entreprise"}),e.jsx(ne,{checked:c,onChange:oe,inputProps:{"aria-label":"controlled"}})]})})]})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Liste des modules"})}),e.jsx(ue,{})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col flex-grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Participants"})}),e.jsx(ce,{})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col flex-grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Status de la session"})}),e.jsx("div",{className:"p-6.5 w-1/4",children:e.jsx(l,{options:i})})]})})})]})})},es=()=>e.jsxs(e.Fragment,{children:[e.jsx(ie,{pageName:"Nouvelle session"}),e.jsx(Se,{})]});export{es as default};
