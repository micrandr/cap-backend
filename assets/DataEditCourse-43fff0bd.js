import{o as Y,v as Z,r as t,j as e,L as E,a7 as F,b as ee}from"./index-625fd2ac.js";import{C as R}from"./CourseServices-3b48ec21.js";import{S as o}from"./react-select.esm-7cbaa6ad.js";import{s as re}from"./slugify-fab7e66a.js";const A=[{value:"none",label:"Selectionner"},{value:"beginner",label:"Débutant"},{value:"intermediate",label:"Intérmediaire"},{value:"confirmed",label:"Confirmé"}],I=[{value:"none",label:"Selectionner"},{value:"presentiel",label:"Formation en présentiel - FP"},{value:"distanciel",label:"Formation à distance - Visio - FOAD"},{value:"e-learning",label:"e-Learning"},{value:"blended-learning",label:"Blended Learning"}],O=[{value:"none",label:"Selectionner"},{value:"particulier",label:"Particulier"},{value:"entreprise",label:"Entreprise"},{value:"particulier-entreprise",label:"Particulier / Entreprise"}],B=[{value:"none",label:"Selectionner"},{value:"marches-publics",label:"Marches Publics"},{value:"dao",label:"DAO"},{value:"bureautique",label:"Bureautique"},{value:"comptabilite",label:"Comptabilité"}],ce=()=>{Y();const s=Z().id,c={id:null,courseName:"",courseCategory:"",courseDuration:"",courseAddress:"",courseComment:""},[te,M]=t.useState(c),[l,_]=t.useState(c),[u,m]=t.useState(""),[b,d]=t.useState(""),[p,x]=t.useState(""),[i,k]=t.useState(""),[h,f]=t.useState(""),[g,v]=t.useState(""),[se,J]=t.useState(""),[j,N]=t.useState(""),[y,C]=t.useState(""),[S,w]=t.useState(""),[D,L]=t.useState(""),[P,T]=t.useState(""),[U,q]=t.useState(""),[oe,V]=t.useState(""),$=r=>{R.get(r).then(a=>{M(a.data),_(a.data),m(a.data.courseName),d(a.data.courseSlug),x(a.data.courseType),k(a.data.courseLevel),C(a.data.courseTarget),f(a.data.coursePrice),N(a.data.courseDuration),w(a.data.courseLocation),v(a.data.courseCategory),q(a.data.courseRequirement),J(a.data.courseComment),V(a.data.courseSkills),L(a.data.courseProgram),T(a.data.courseSupport)})};t.useEffect(()=>{s&&$(s)},[s]);const z=r=>{x(r.value)},G=r=>{C(r.value)},H=r=>{console.log("courseLevel="),console.log(i),k(r.value)},K=r=>{v(r.value)},Q=r=>{r.preventDefault();let a=r.target.files[0].name;a!=""&&L(a)},W=r=>{r.preventDefault();let a=r.target.files[0].name;a!=""&&T(a)},X=async r=>{r.preventDefault();try{const a=JSON.stringify({courseName:u,courseType:p,courseLevel:i,courseCategory:g,coursePrice:h,courseDuration:j,courseLocation:S,courseSlug:b,courseRequirement:U,courseProgram:D,courseSupport:P,courseTarget:y});R.update(s,a).then(n=>{(n.status==200||n.status==201)&&ee.success("Enregistrement bien appliqué")}).then(n=>{})}catch(a){console.log(a)}};return e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",onSubmit:X,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex"}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"flex w-100 mr-2 mb-2 justify-center rounded bg-primary p-3 font-medium text-gray",children:"Enregistrer"})})]}),e.jsxs("div",{className:"grid grid-cols-2 bg-white p-5",children:[e.jsxs("div",{className:"flex flex-col gap-9 mr-4 h-full",children:[e.jsxs("div",{className:"rounded-sm border border-stroke shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Informations générales"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Nom du programme de formation"}),e.jsx("input",{type:"text",id:"course-name",onChange:r=>{m(r.target.value),d(re(r.target.value.toLowerCase()))},value:u,placeholder:"Nom du programme de formation",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Slug"}),e.jsx("input",{type:"text",id:"course-slug",onChange:r=>d(r.target.value),value:b,placeholder:"Slug",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Type de formation"}),e.jsx(o,{options:I,value:I.filter(r=>r.value===p),onChange:z})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Catégories de formation"}),e.jsx(o,{options:B,value:B.filter(r=>r.value===g),onChange:K})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Niveau"}),e.jsx(o,{options:A,onChange:H,value:A.filter(r=>r.value===i)})]})]})]}),e.jsxs("div",{className:"mt-2 rounded-sm border border-stroke shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Conditions & cibles"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Prérequis"}),e.jsx("textarea",{id:"course-prerequis",onChange:r=>q(r.target.value),value:l==null?void 0:l.courseRequirement,placeholder:"Prérequis",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Publics visés"}),e.jsx(o,{options:O,value:O.filter(r=>r.value===y),onChange:G})]})]})]})]}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"rounded-sm border border-stroke shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Détails du programme de formation"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Tarif"}),e.jsx("input",{type:"text",id:"course-price",onChange:r=>f(r.target.value),value:h,placeholder:"Tarif",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Lieu"}),e.jsx("input",{type:"text",id:"course-location",name:"course-location",onChange:r=>w(r.target.value),value:S,placeholder:"Lieu de formation",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Durée"}),e.jsx("input",{type:"number",id:"course-duration",onChange:r=>N(r.target.value),value:j,placeholder:"Durée de la formation",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]})]}),e.jsxs("div",{className:"mt-5 rounded-sm border border-stroke shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Fichiers du programme"})}),e.jsxs("div",{className:"p-6.5",children:[D?e.jsxs(e.Fragment,{children:["Fichier programme de formation :",e.jsx(E,{to:"#",children:e.jsx(F,{className:"m-2"})})]}):e.jsx("div",{}),P?e.jsxs("div",{children:["Support de formation : ",e.jsx(E,{to:"#",children:e.jsx(F,{className:"m-2"})})]}):e.jsx("div",{}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Programme"}),e.jsx("input",{type:"file",id:"course-programme",onChange:Q,placeholder:"Programme",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]}),e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Support"}),e.jsx("input",{type:"file",id:"course-support",accept:"image/png, image/jpg, application/pdf, application/docx",onChange:W,placeholder:"Support",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})]})]})]})]})]})]})})};export{ce as D};
