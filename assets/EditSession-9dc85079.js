import{r as t,j as e,s as f,F as I,t as F,o as os,v as ls,S as ds,U as ns,q as is}from"./index-21d5007c.js";import{B as rs}from"./Breadcrumb-5c4786a0.js";import{S as x}from"./react-select.esm-9ccc63ef.js";import{S as A}from"./SessionServices-c3f37646.js";import{A as us,B as cs,S as ms,a as xs,C as Ss}from"./SessionParts-aa8e36c0.js";import"./objectSpread2-4449d670.js";import"./floating-ui.dom-492b5fd7.js";import"./Fab-4a3d9ced.js";const bs=[{value:"gagne",label:"Gagné"},{value:"perdu",label:"Perdu"},{value:"relance",label:"A relancer"}],hs=[{value:"mme",label:"Mme"},{value:"mrs",label:"Mlle"},{value:"mr",label:"Mr"}],Ms=({module:r,index:o,removeModule:c})=>e.jsxs("div",{className:"p-6.5 bloc-module",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex mt-2 relative bg-slate",children:e.jsx(x,{options:hs})}),e.jsx("div",{className:"flex",children:e.jsx("input",{type:"text",name:"module-session-firstname",className:"w-50 m-2 p-2 rounded border-[1.5px] border-stroke bg-transparent px-5 font-medium outline-none transition focus:border-primary active:border-primary ",placeholder:"Prénom"})}),e.jsx("div",{className:"flex",children:e.jsx("input",{type:"text",name:"module-session-name",className:"w-50 m-2 p-2 rounded border-[1.5px] border-stroke bg-transparent px-5 font-medium outline-none transition focus:border-primary active:border-primary ",placeholder:"Nom"})}),e.jsx("button",{className:"flex float-right",onClick:i=>{c(o)},children:"x"})]}),e.jsx("div",{className:"flex w-full border-dotted border-2 p-2",children:e.jsx("div",{className:"flex p-3",children:e.jsxs("div",{className:"mb-4.5 flex gap-3 xl:flex-row",children:[e.jsx(f,{name:"Email",label:"Email",sx:{width:"auto"}}),e.jsx(f,{name:"telephone",label:"Telephone",sx:{width:"auto"}}),e.jsx(us,{disablePortal:!0,id:"customer-status",options:bs,sx:{width:300},renderInput:i=>e.jsx(f,{...i,label:"Status"})}),e.jsx(I,{control:e.jsx(F,{}),label:"Financement OPCO"}),e.jsx(I,{control:e.jsx(F,{}),label:"Entreprise"})]})})})]});function vs({addModule:r}){const[o,c]=t.useState(""),[i,d]=t.useState(""),l=n=>{n.preventDefault(),r(o,i),console.log("ye me!!!")};return e.jsx("div",{className:"inline-block flex ml-5 p-1",onClick:l,children:e.jsx("svg",{className:"w-3.5 h-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 1v16M1 9h16"})})})}const js=()=>{t.useState(0);const[r,o]=t.useState([]),c=(d,l)=>{const n=[...r,{title:d,price:l}];o(n)},i=(d,l)=>{l.preventDefault();const n=[...r];n.splice(d,1),o(n)};return e.jsx("div",{className:"module-container p-4",children:e.jsxs("div",{className:"todo-container",children:[e.jsx("div",{className:"modules",children:r.map((d,l)=>e.jsx(Ms,{module:d==null?void 0:d.title,index:l,removeModule:i},l))}),e.jsx("div",{className:"create-task",children:e.jsx(vs,{addModule:c})})]})})},fs=[{id:1,name:""}],Ns=()=>{os();const o=ls().id,[c,i]=t.useState([]),[d,l]=t.useState([]),[n,N]=t.useState(""),[L,O]=t.useState(""),[k,g]=t.useState(""),[U,z]=t.useState(""),[G,R]=t.useState(""),[p,w]=t.useState(""),[P,D]=t.useState(""),[q,J]=t.useState(""),[V,Z]=t.useState(""),[$,K]=t.useState(""),[Q,W]=t.useState(""),[X,Y]=t.useState(""),[_,ee]=t.useState(""),[se,te]=t.useState(""),[ae,ks]=t.useState(""),[oe,y]=t.useState(""),[le,S]=t.useState(""),[de,ne]=t.useState(""),[ie,re]=t.useState(""),[ue,ce]=t.useState(""),[me,xe]=t.useState(""),[Se,E]=t.useState(""),[be,C]=t.useState(""),[he,Me]=t.useState(""),[ve,je]=t.useState(""),[fe,Ne]=t.useState(""),[ke,ge]=t.useState(""),[pe,H]=t.useState(""),[we,T]=t.useState(""),[Pe,De]=t.useState(""),[ye,Ee]=t.useState(""),[Ce,He]=t.useState(""),[Te,Be]=t.useState(""),[Ie,Fe]=t.useState(""),[Ae,Le]=t.useState(""),[Oe,Ue]=t.useState(""),[ze,Ge]=t.useState(""),[Re,qe]=t.useState(""),[Je,Ve]=t.useState("");t.useState("");const Ze=[{value:0,label:null}],[gs,$e]=t.useState(Ze),B=[{value:1,label:"Nouveau"},{value:2,label:"En cours"},{value:3,label:"En attente"},{value:4,label:"Terminée"},{value:5,label:"Annulée"}],Ke=a=>{A.get(a).then(s=>{l(s.data),N(s.data.sessionName),O(s.data.sessionLocation),g(s.data.sessionManager),z(s.data.sessionManager2),R(s.data.sessionType),D(s.data.sessionIntra),w(s.data.sessionStatus),J(s.data.sessionTimezone),Z(s.data.sessionModuleName0),K(s.data.sessionModulePrice0),W(s.data.sessionModulePriceClient0),Y(s.data.sessionModuleStartDate0),ee(s.data.sessionModuleEndDate0),te(s.data.sessionModuleHour0),y(s.data.sessionModuleName1),S(s.data.sessionModulePrice1),ne(s.data.sessionModulePriceClient1),re(s.data.sessionModuleStartDate1),ce(s.data.sessionModuleEndDate1),xe(s.data.sessionModuleHour1),E(s.data.sessionModuleName2),C(s.data.sessionModulePrice2),Me(s.data.sessionModulePriceClient2),je(s.data.sessionModuleStartDate2),Ne(s.data.sessionModuleEndDate2),ge(s.data.sessionModuleHour2),H(s.data.sessionModuleName3),T(s.data.sessionModulePrice3),De(s.data.sessionModulePriceClient3),Ee(s.data.sessionModuleStartDate3),He(s.data.sessionModuleEndDate3),Be(s.data.sessionModuleHour3),Fe(s.data.sessionModuleName4),Le(s.data.sessionModulePrice4),Ue(s.data.sessionModulePriceClient4),Ge(s.data.sessionModuleStartDate4),qe(s.data.sessionModuleEndDate4),Ve(s.data.sessionModuleHour4)})},Qe=a=>{Ss.getAll().then(s=>{l(s.data["hydra:member"].filter(u=>u.sessionId=a))})},We=()=>{ns.getAll().then(a=>{i(a.data["hydra:member"]),$e(a.data["hydra:member"])}).catch(a=>{console.log(a)})},b=c.map(a=>{const s={value:null,label:null};return s.value=a.id,s.label=a.userFirstName,s});t.useEffect(()=>{o&&Ke(o),We(),Qe(o)},[o]);const Xe=async a=>{a.preventDefault();let s=document.getElementById("session-module-name1"),u=document.getElementById("session-module-price1"),h=document.getElementById("session-module-name2"),M=document.getElementById("session-module-price2"),v=document.getElementById("session-module-name3"),j=document.getElementById("session-module-price3");y(s==null?void 0:s.value),S(u==null?void 0:u.value),E(h==null?void 0:h.value),C(M==null?void 0:M.value),H(v==null?void 0:v.value),T(j==null?void 0:j.value);const as=JSON.stringify({sessionName:n,sessionLocation:L,sessionManager:k,sessionManager2:U,sessionTimezone:q,sessionType:G,sessionIntra:P,sessionStatus:p,sessionModuleName:ae,sessionModuleName0:V,sessionModulePrice0:$,sessionModulePriceClient0:Q,sessionModuleStartDate0:X,sessionModuleEndDate0:_,sessionModuleHour0:se,sessionModuleName1:oe,sessionModulePrice1:le,sessionModulePriceClient1:de,sessionModuleStartDate1:ie,sessionModuleEndDate1:ue,sessionModuleHour1:me,sessionModuleName2:Se,sessionModulePrice2:be,sessionModulePriceClient2:he,sessionModuleStartDate2:ve,sessionModuleEndDate2:fe,sessionModuleHour2:ke,sessionModuleName3:pe,sessionModulePrice3:we,sessionModulePriceClient3:Pe,sessionModuleStartDate3:ye,sessionModuleEndDate3:Ce,sessionModuleHour3:Te,sessionModuleName4:Ie,sessionModulePrice4:Ae,sessionModulePriceClient4:Oe,sessionModuleStartDate4:ze,sessionModuleEndDate4:Re,sessionModuleHour4:Je});A.update(o,as).then(m=>{(m.status==200||m.status==201)&&is.success("Session bien mise à jour")}).then(m=>{console.log(m)})};t.useState(Intl.DateTimeFormat().resolvedOptions().timeZone);const Ye=a=>{w(a.value)},_e=a=>{g(a.value)},es=a=>{let s="";a.target.checked?s="0":s="1",D(s)},ss=()=>{},ts=()=>{};return e.jsx(e.Fragment,{children:e.jsxs("form",{action:"#",onSubmit:Xe,children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex p-2",children:e.jsx("input",{type:"text",name:"session-name",onChange:a=>N(a.target.value),value:n,placeholder:"Nom de session de formation",className:"w-100 rounded border-[1.5px] border-stroke bg-transparent py-2 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"})}),e.jsx(x,{options:B,placeholder:"Status",className:"p-2",value:B.filter(a=>a.value==p),onChange:Ye}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"flex w-100 mr-2 mb-2 justify-center rounded bg-primary p-3 font-medium text-gray",children:"Enregistrer"})})]}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Informations de session"})}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex w-1/2 hidden",children:[e.jsxs("div",{className:"p-6.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Gestionnaire"}),e.jsx("div",{className:"bg-transparent dark:bg-form-input",children:e.jsx(x,{options:b,value:b.filter(a=>a.value===k),onChange:_e})})]}),e.jsxs("div",{className:"p-6.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"Gestionnaire 2"}),e.jsx("div",{className:"relative z-20 bg-transparent dark:bg-form-input",children:e.jsx(x,{options:b})})]})]}),e.jsx("div",{className:"flex w-1/2 p-6.5",children:e.jsxs("div",{className:"mb-4.5",children:[e.jsx("label",{className:"mb-2.5 block text-black dark:text-white",children:"INTRA OU INTER-Entreprise"}),e.jsx(ds,{checked:P=="1"?1:0,onChange:es,inputProps:{"aria-label":"controlled"}})]})})]})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white flex",children:e.jsx("div",{className:"flex",children:"Liste des modules"})})}),fs.map((a,s)=>{const u="";return e.jsx(e.Fragment,{children:e.jsx(cs,{module:u,index:s,removeModule:ss,countModule:ts})})}),e.jsx(ms,{sessionId:o,setSessionModulePrice1:a=>S(a.target.value)})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col flex-grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Participants"})}),e.jsx(xs,{})]})})}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex flex-col flex-grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Clients et prospects"})}),e.jsx(js,{})]})})}),e.jsx("div",{className:"flex hidden",children:e.jsx("div",{className:"flex flex-col flex-grow",children:e.jsxs("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e.jsx("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e.jsx("h3",{className:"font-medium text-black dark:text-white",children:"Lieu de formation"})}),e.jsxs("div",{className:"p-6.5",children:[e.jsx("h4",{className:"",children:"Nom du module"}),e.jsx("div",{className:"flex w-full",children:e.jsx("div",{className:"flex-initial w-full p-3",children:"text"})})]})]})})})]})})},Ts=()=>e.jsxs(e.Fragment,{children:[e.jsx(rs,{pageName:"Edition de session de formation"}),e.jsx(Ns,{})]});export{Ts as default};
